"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("electron"),d=require("node:url"),o=require("node:path");var s=typeof document<"u"?document.currentScript:null;const i=o.dirname(d.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:s&&s.tagName.toUpperCase()==="SCRIPT"&&s.src||new URL("main.js",document.baseURI).href));process.env.APP_ROOT=o.join(i,"..");const t=process.env.VITE_DEV_SERVER_URL,p=o.join(process.env.APP_ROOT,"dist-electron"),r=o.join(process.env.APP_ROOT,"dist");let e=null;function a(){e=new n.BrowserWindow({icon:o.join(process.env.VITE_PUBLIC,"RogueRatIcone.png"),webPreferences:{preload:o.join(i,"preload.mjs")},show:!1}),e.setFullScreen(!0),e.webContents.openDevTools(),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),e.once("ready-to-show",()=>e==null?void 0:e.show()),t?e.loadURL(t):e.loadFile(o.join(r,"index.html"))}n.app.whenReady().then(()=>{n.app.setAppUserModelId("Rogue Rats Chat"),process.env.VITE_PUBLIC=t?o.join(process.env.APP_ROOT,"public"):r,a(),n.ipcMain.handle("notify",(R,{title:c,body:l})=>{new n.Notification({title:c,body:l}).show()})});n.app.on("activate",()=>{n.BrowserWindow.getAllWindows().length===0&&a()});n.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(n.app.quit(),e=null)});exports.MAIN_DIST=p;exports.RENDERER_DIST=r;exports.VITE_DEV_SERVER_URL=t;
